<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTRAL // MENTOR PSYCHOLOGIQUE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background: radial-gradient(circle at top left, #1a1c2e, #000000);
            color: #ffffff;
            height: 100vh;
            overflow: hidden;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .glass-input {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .glass-input:focus {
            border-color: #8b5cf6;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
            outline: none;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        /* Animations */
        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        .msg-bot {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.01) 100%);
            border-left: 3px solid #8b5cf6;
            border-radius: 0 16px 16px 16px;
        }

        .msg-user {
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            border-radius: 16px 0 16px 16px;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
            background-color: #8b5cf6;
        }

        @keyframes typing {

            0%,
            80%,
            100% {
                transform: scale(0);
            }

            40% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body class="flex flex-col h-full relative">

    <!-- Background Elements -->
    <div
        class="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-purple-900/20 rounded-full blur-[120px] pointer-events-none">
    </div>
    <div
        class="absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[120px] pointer-events-none">
    </div>

    <!-- Header -->
    <header class="glass z-10 px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-3 h-3 rounded-full bg-green-500 shadow-[0_0_10px_#22c55e]"></div>
            <h1 class="text-xl font-light tracking-widest text-white/90">ASTRAL <span
                    class="text-purple-400 font-bold">MENTOR</span></h1>
        </div>
        <button id="settings-btn" class="p-2 rounded-full hover:bg-white/10 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="text-white/70">
                <path
                    d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z">
                </path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>
        </button>
    </header>

    <!-- Chat Container -->
    <main id="chat-container" class="flex-1 overflow-y-auto p-6 space-y-6 scroll-smooth">
        <!-- Welcome Message -->
        <div class="flex flex-col items-center justify-center h-full text-center space-y-6 opacity-80"
            id="welcome-screen">
            <div
                class="w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center shadow-2xl floating">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"
                    class="text-white">
                    <path d="M12 2a10 10 0 1 0 10 10H12V2z"></path>
                    <path d="M12 2a10 10 0 0 1 10 10"></path>
                    <path d="M12 2v10"></path>
                </svg>
            </div>
            <div>
                <h2 class="text-3xl font-bold text-white mb-2">Bouclier Psychologique</h2>
                <p class="text-white/50 max-w-md mx-auto">Je suis votre mentor. Je décode la manipulation, le
                    narcissisme et les dynamiques toxiques.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-lg">
                <button class="suggestion-btn glass p-4 rounded-xl text-left hover:bg-white/5 transition-all group">
                    <span
                        class="block text-purple-400 text-sm font-bold mb-1 group-hover:text-purple-300">DÉCODAGE</span>
                    <span class="text-white/70 text-sm">"Il m'ignore depuis 3 jours..."</span>
                </button>
                <button class="suggestion-btn glass p-4 rounded-xl text-left hover:bg-white/5 transition-all group">
                    <span class="block text-blue-400 text-sm font-bold mb-1 group-hover:text-blue-300">DÉFENSE</span>
                    <span class="text-white/70 text-sm">"Comment répondre au Gaslighting ?"</span>
                </button>
            </div>
        </div>
    </main>

    <!-- Input Area -->
    <footer class="p-6 pt-0 z-10">
        <div class="glass rounded-2xl p-2 flex items-end gap-2 relative">
            <button id="voice-btn"
                class="p-3 rounded-xl hover:bg-white/10 text-white/50 hover:text-white transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                    <line x1="12" y1="19" x2="12" y2="23"></line>
                    <line x1="8" y1="23" x2="16" y2="23"></line>
                </svg>
            </button>
            <textarea id="user-input" rows="1"
                class="w-full bg-transparent text-white placeholder-white/30 p-3 focus:outline-none resize-none max-h-32"
                placeholder="Décrivez une situation ou collez un message..."></textarea>
            <button id="send-btn"
                class="p-3 rounded-xl bg-purple-600 hover:bg-purple-500 text-white shadow-lg shadow-purple-900/50 transition-all transform hover:scale-105">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </div>
        <div class="text-center mt-2">
            <p class="text-[10px] text-white/20 uppercase tracking-widest">Astral v2.0 • Secure Environment</p>
        </div>
    </footer>

    <!-- Settings Modal -->
    <div id="settings-modal"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center">
        <div class="glass w-full max-w-md p-6 rounded-2xl m-4 transform transition-all scale-100">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-white">Paramètres</h3>
                <button id="close-settings" class="text-white/50 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-white/70 mb-2">Clé API Gemini (Optionnel)</label>
                    <input type="password" id="api-key-input"
                        class="w-full glass-input rounded-xl p-3 text-white placeholder-white/20"
                        placeholder="AIzaSy...">
                    <p class="text-xs text-white/30 mt-2">Laissez vide pour utiliser le mode démo hors-ligne.</p>
                </div>

                <button id="save-settings"
                    class="w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-purple-900/50">
                    Sauvegarder
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="thesis.js"></script>
    <script src="victim_approach_thesis.js"></script>
    <script src="app.js"></script>
</body>

</html>